import{k as Be,i as we,E as se,B as ct,m as dt,_ as y,r as m,b as Pe,c as pe,d as Q,j as e,e as Ie,h as $t,a as $e,T as K,g as kt,q as Nt,t as Rt,x as Wt,s as ke,w as Ft}from"./index-32292c13.js";import{C as Z,o as Ne,s as E,z as re,u as At,t as Ht,b as _t}from"./zod-c0bdc337.js";import{r as De,i as Ue}from"./createSvgIcon-abbd2357.js";import{C as Dt,d as Ut}from"./ConfirmCustomerDeletion-d56f0a77.js";import{b as Lt,c as Vt}from"./Delete-298fa468.js";import{F as xe,C as ge,d as Xt}from"./SaveAlt-2532f71d.js";import{d as Gt}from"./ArrowBack-77e9619e.js";import{G as V}from"./Grid-003d548d.js";import{C as O,a as ee}from"./CardContent-9b693bcc.js";import{C as oe}from"./CardHeader-b4119aa6.js";import{S as Le}from"./Stack-b443227d.js";import{T as R,F as ce}from"./TextField-dc504966.js";import{F as le,I as ve,a as qt}from"./FormControl-1302c8b4.js";import{S as je}from"./Select-1f7de27f.js";import{M as F}from"./MenuItem-416c8a5f.js";import{I as ot}from"./InputAdornment-ce6d5b02.js";import{u as ye,I as Ve}from"./Backdrop-752351c6.js";import{d as Kt}from"./Close-22468df7.js";import{T as Yt}from"./Tooltip-64f1a3d2.js";import{u as Jt}from"./common-f0c17bc9.js";import{A as st}from"./constants-a5768e35.js";import{C as Qt}from"./Container-430f5354.js";import{T as Zt}from"./Toolbar-c06937fa.js";import{L as Ot}from"./LoadingButton-e0ccb8bc.js";import{d as _e,a as ut,u as mt,o as el,P as tl}from"./Paper-d19b285b.js";import"./Menu-3217b6b0.js";import{K as ll,a as ol}from"./KeyboardArrowRight-8567b424.js";let he;function ht(){if(he)return he;const t=document.createElement("div"),l=document.createElement("div");return l.style.width="10px",l.style.height="1px",t.appendChild(l),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),he="reverse",t.scrollLeft>0?he="default":(t.scrollLeft=1,t.scrollLeft===0&&(he="negative")),document.body.removeChild(t),he}function nt(t,l){const n=t.scrollLeft;if(l!=="rtl")return n;switch(ht()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}function sl(t){return we("MuiTab",t)}const nl=Be("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ie=nl,al=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],rl=t=>{const{classes:l,textColor:n,fullWidth:o,wrapped:s,icon:r,label:i,selected:h,disabled:c}=t,p={root:["root",r&&i&&"labelIcon",`textColor${dt(n)}`,o&&"fullWidth",s&&"wrapped",h&&"selected",c&&"disabled"],iconWrapper:["iconWrapper"]};return Ie(p,sl,l)},il=se(ct,{name:"MuiTab",slot:"Root",overridesResolver:(t,l)=>{const{ownerState:n}=t;return[l.root,n.label&&n.icon&&l.labelIcon,l[`textColor${dt(n.textColor)}`],n.fullWidth&&l.fullWidth,n.wrapped&&l.wrapped]}})(({theme:t,ownerState:l})=>y({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},l.label&&{flexDirection:l.iconPosition==="top"||l.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},l.icon&&l.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ie.iconWrapper}`]:y({},l.iconPosition==="top"&&{marginBottom:6},l.iconPosition==="bottom"&&{marginTop:6},l.iconPosition==="start"&&{marginRight:t.spacing(1)},l.iconPosition==="end"&&{marginLeft:t.spacing(1)})},l.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${ie.selected}`]:{opacity:1},[`&.${ie.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},l.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${ie.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${ie.disabled}`]:{color:(t.vars||t).palette.text.disabled}},l.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${ie.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${ie.disabled}`]:{color:(t.vars||t).palette.text.disabled}},l.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},l.wrapped&&{fontSize:t.typography.pxToRem(12)})),cl=m.forwardRef(function(l,n){const o=Pe({props:l,name:"MuiTab"}),{className:s,disabled:r=!1,disableFocusRipple:i=!1,fullWidth:h,icon:c,iconPosition:p="top",indicator:S,label:j,onChange:g,onClick:v,onFocus:P,selected:C,selectionFollowsFocus:B,textColor:A="inherit",value:M,wrapped:L=!1}=o,H=pe(o,al),U=y({},o,{disabled:r,disableFocusRipple:i,selected:C,icon:!!c,iconPosition:p,label:!!j,fullWidth:h,textColor:A,wrapped:L}),b=rl(U),u=c&&j&&m.isValidElement(c)?m.cloneElement(c,{className:Q(b.iconWrapper,c.props.className)}):c,T=_=>{!C&&g&&g(_,M),v&&v(_)},w=_=>{B&&!C&&g&&g(_,M),P&&P(_)};return e.jsxs(il,y({focusRipple:!i,className:Q(b.root,s),ref:n,role:"tab","aria-selected":C,disabled:r,onClick:T,onFocus:w,ownerState:U,tabIndex:C?0:-1},H,{children:[p==="top"||p==="start"?e.jsxs(m.Fragment,{children:[u,j]}):e.jsxs(m.Fragment,{children:[j,u]}),S]}))}),Re=cl;function dl(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function ul(t,l,n,o={},s=()=>{}){const{ease:r=dl,duration:i=300}=o;let h=null;const c=l[t];let p=!1;const S=()=>{p=!0},j=g=>{if(p){s(new Error("Animation cancelled"));return}h===null&&(h=g);const v=Math.min(1,(g-h)/i);if(l[t]=r(v)*(n-c)+c,v>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(j)};return c===n?(s(new Error("Element already at target position")),S):(requestAnimationFrame(j),S)}const ml=["onChange"],hl={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function pl(t){const{onChange:l}=t,n=pe(t,ml),o=m.useRef(),s=m.useRef(null),r=()=>{o.current=s.current.offsetHeight-s.current.clientHeight};return $t(()=>{const i=_e(()=>{const c=o.current;r(),c!==o.current&&l(o.current)}),h=ut(s.current);return h.addEventListener("resize",i),()=>{i.clear(),h.removeEventListener("resize",i)}},[l]),m.useEffect(()=>{r(),l(o.current)},[l]),e.jsx("div",y({style:hl,ref:s},n))}function fl(t){return we("MuiTabScrollButton",t)}const bl=Be("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),xl=bl,gl=["className","slots","slotProps","direction","orientation","disabled"],vl=t=>{const{classes:l,orientation:n,disabled:o}=t;return Ie({root:["root",n,o&&"disabled"]},fl,l)},jl=se(ct,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,l)=>{const{ownerState:n}=t;return[l.root,n.orientation&&l[n.orientation]]}})(({ownerState:t})=>y({width:40,flexShrink:0,opacity:.8,[`&.${xl.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),Sl=m.forwardRef(function(l,n){var o,s;const r=Pe({props:l,name:"MuiTabScrollButton"}),{className:i,slots:h={},slotProps:c={},direction:p}=r,S=pe(r,gl),g=mt().direction==="rtl",v=y({isRtl:g},r),P=vl(v),C=(o=h.StartScrollButtonIcon)!=null?o:ll,B=(s=h.EndScrollButtonIcon)!=null?s:ol,A=ye({elementType:C,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v}),M=ye({elementType:B,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v});return e.jsx(jl,y({component:"div",className:Q(P.root,i),ref:n,role:null,ownerState:v,tabIndex:null},S,{children:p==="left"?e.jsx(C,y({},A)):e.jsx(B,y({},M))}))}),Cl=Sl;function Tl(t){return we("MuiTabs",t)}const yl=Be("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),We=yl,Bl=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],at=(t,l)=>t===l?t.firstChild:l&&l.nextElementSibling?l.nextElementSibling:t.firstChild,rt=(t,l)=>t===l?t.lastChild:l&&l.previousElementSibling?l.previousElementSibling:t.lastChild,Te=(t,l,n)=>{let o=!1,s=n(t,l);for(;s;){if(s===t.firstChild){if(o)return;o=!0}const r=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||r)s=n(t,s);else{s.focus();return}}},wl=t=>{const{vertical:l,fixed:n,hideScrollbar:o,scrollableX:s,scrollableY:r,centered:i,scrollButtonsHideMobile:h,classes:c}=t;return Ie({root:["root",l&&"vertical"],scroller:["scroller",n&&"fixed",o&&"hideScrollbar",s&&"scrollableX",r&&"scrollableY"],flexContainer:["flexContainer",l&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",h&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[o&&"hideScrollbar"]},Tl,c)},Pl=se("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,l)=>{const{ownerState:n}=t;return[{[`& .${We.scrollButtons}`]:l.scrollButtons},{[`& .${We.scrollButtons}`]:n.scrollButtonsHideMobile&&l.scrollButtonsHideMobile},l.root,n.vertical&&l.vertical]}})(({ownerState:t,theme:l})=>y({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${We.scrollButtons}`]:{[l.breakpoints.down("sm")]:{display:"none"}}})),Il=se("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,l)=>{const{ownerState:n}=t;return[l.scroller,n.fixed&&l.fixed,n.hideScrollbar&&l.hideScrollbar,n.scrollableX&&l.scrollableX,n.scrollableY&&l.scrollableY]}})(({ownerState:t})=>y({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),El=se("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,l)=>{const{ownerState:n}=t;return[l.flexContainer,n.vertical&&l.flexContainerVertical,n.centered&&l.centered]}})(({ownerState:t})=>y({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),zl=se("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,l)=>l.indicator})(({ownerState:t,theme:l})=>y({position:"absolute",height:2,bottom:0,width:"100%",transition:l.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(l.vars||l).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(l.vars||l).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),Ml=se(pl,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),it={},$l=m.forwardRef(function(l,n){const o=Pe({props:l,name:"MuiTabs"}),s=mt(),r=s.direction==="rtl",{"aria-label":i,"aria-labelledby":h,action:c,centered:p=!1,children:S,className:j,component:g="div",allowScrollButtonsMobile:v=!1,indicatorColor:P="primary",onChange:C,orientation:B="horizontal",ScrollButtonComponent:A=Cl,scrollButtons:M="auto",selectionFollowsFocus:L,slots:H={},slotProps:U={},TabIndicatorProps:b={},TabScrollButtonProps:u={},textColor:T="primary",value:w,variant:_="standard",visibleScrollbar:te=!1}=o,de=pe(o,Bl),D=_==="scrollable",$=B==="vertical",G=$?"scrollTop":"scrollLeft",Y=$?"top":"left",J=$?"bottom":"right",I=$?"clientHeight":"clientWidth",k=$?"height":"width",z=y({},o,{component:g,allowScrollButtonsMobile:v,indicatorColor:P,orientation:B,vertical:$,scrollButtons:M,textColor:T,variant:_,visibleScrollbar:te,fixed:!D,hideScrollbar:D&&!te,scrollableX:D&&!$,scrollableY:D&&$,centered:p&&!D,scrollButtonsHideMobile:!v}),N=wl(z),St=ye({elementType:H.StartScrollButtonIcon,externalSlotProps:U.startScrollButtonIcon,ownerState:z}),Ct=ye({elementType:H.EndScrollButtonIcon,externalSlotProps:U.endScrollButtonIcon,ownerState:z}),[Ke,Tt]=m.useState(!1),[ne,Ye]=m.useState(it),[ue,yt]=m.useState({start:!1,end:!1}),[Je,Bt]=m.useState({overflow:"hidden",scrollbarWidth:0}),Qe=new Map,q=m.useRef(null),fe=m.useRef(null),Ze=()=>{const a=q.current;let d;if(a){const x=a.getBoundingClientRect();d={clientWidth:a.clientWidth,scrollLeft:a.scrollLeft,scrollTop:a.scrollTop,scrollLeftNormalized:nt(a,s.direction),scrollWidth:a.scrollWidth,top:x.top,bottom:x.bottom,left:x.left,right:x.right}}let f;if(a&&w!==!1){const x=fe.current.children;if(x.length>0){const W=x[Qe.get(w)];f=W?W.getBoundingClientRect():null}}return{tabsMeta:d,tabMeta:f}},be=$e(()=>{const{tabsMeta:a,tabMeta:d}=Ze();let f=0,x;if($)x="top",d&&a&&(f=d.top-a.top+a.scrollTop);else if(x=r?"right":"left",d&&a){const X=r?a.scrollLeftNormalized+a.clientWidth-a.scrollWidth:a.scrollLeft;f=(r?-1:1)*(d[x]-a[x]+X)}const W={[x]:f,[k]:d?d[k]:0};if(isNaN(ne[x])||isNaN(ne[k]))Ye(W);else{const X=Math.abs(ne[x]-W[x]),me=Math.abs(ne[k]-W[k]);(X>=1||me>=1)&&Ye(W)}}),Ee=(a,{animation:d=!0}={})=>{d?ul(G,q.current,a,{duration:s.transitions.duration.standard}):q.current[G]=a},Oe=a=>{let d=q.current[G];$?d+=a:(d+=a*(r?-1:1),d*=r&&ht()==="reverse"?-1:1),Ee(d)},et=()=>{const a=q.current[I];let d=0;const f=Array.from(fe.current.children);for(let x=0;x<f.length;x+=1){const W=f[x];if(d+W[I]>a){x===0&&(d=a);break}d+=W[I]}return d},wt=()=>{Oe(-1*et())},Pt=()=>{Oe(et())},It=m.useCallback(a=>{Bt({overflow:null,scrollbarWidth:a})},[]),Et=()=>{const a={};a.scrollbarSizeListener=D?e.jsx(Ml,{onChange:It,className:Q(N.scrollableX,N.hideScrollbar)}):null;const d=ue.start||ue.end,f=D&&(M==="auto"&&d||M===!0);return a.scrollButtonStart=f?e.jsx(A,y({slots:{StartScrollButtonIcon:H.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:St},orientation:B,direction:r?"right":"left",onClick:wt,disabled:!ue.start},u,{className:Q(N.scrollButtons,u.className)})):null,a.scrollButtonEnd=f?e.jsx(A,y({slots:{EndScrollButtonIcon:H.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Ct},orientation:B,direction:r?"left":"right",onClick:Pt,disabled:!ue.end},u,{className:Q(N.scrollButtons,u.className)})):null,a},tt=$e(a=>{const{tabsMeta:d,tabMeta:f}=Ze();if(!(!f||!d)){if(f[Y]<d[Y]){const x=d[G]+(f[Y]-d[Y]);Ee(x,{animation:a})}else if(f[J]>d[J]){const x=d[G]+(f[J]-d[J]);Ee(x,{animation:a})}}}),ae=$e(()=>{if(D&&M!==!1){const{scrollTop:a,scrollHeight:d,clientHeight:f,scrollWidth:x,clientWidth:W}=q.current;let X,me;if($)X=a>1,me=a<d-f-1;else{const Ce=nt(q.current,s.direction);X=r?Ce<x-W-1:Ce>1,me=r?Ce>1:Ce<x-W-1}(X!==ue.start||me!==ue.end)&&yt({start:X,end:me})}});m.useEffect(()=>{const a=_e(()=>{q.current&&(be(),ae())}),d=ut(q.current);d.addEventListener("resize",a);let f;return typeof ResizeObserver<"u"&&(f=new ResizeObserver(a),Array.from(fe.current.children).forEach(x=>{f.observe(x)})),()=>{a.clear(),d.removeEventListener("resize",a),f&&f.disconnect()}},[be,ae]);const ze=m.useMemo(()=>_e(()=>{ae()}),[ae]);m.useEffect(()=>()=>{ze.clear()},[ze]),m.useEffect(()=>{Tt(!0)},[]),m.useEffect(()=>{be(),ae()}),m.useEffect(()=>{tt(it!==ne)},[tt,ne]),m.useImperativeHandle(c,()=>({updateIndicator:be,updateScrollButtons:ae}),[be,ae]);const lt=e.jsx(zl,y({},b,{className:Q(N.indicator,b.className),ownerState:z,style:y({},ne,b.style)}));let Se=0;const zt=m.Children.map(S,a=>{if(!m.isValidElement(a))return null;const d=a.props.value===void 0?Se:a.props.value;Qe.set(d,Se);const f=d===w;return Se+=1,m.cloneElement(a,y({fullWidth:_==="fullWidth",indicator:f&&!Ke&&lt,selected:f,selectionFollowsFocus:L,onChange:C,textColor:T,value:d},Se===1&&w===!1&&!a.props.tabIndex?{tabIndex:0}:{}))}),Mt=a=>{const d=fe.current,f=el(d).activeElement;if(f.getAttribute("role")!=="tab")return;let W=B==="horizontal"?"ArrowLeft":"ArrowUp",X=B==="horizontal"?"ArrowRight":"ArrowDown";switch(B==="horizontal"&&r&&(W="ArrowRight",X="ArrowLeft"),a.key){case W:a.preventDefault(),Te(d,f,rt);break;case X:a.preventDefault(),Te(d,f,at);break;case"Home":a.preventDefault(),Te(d,null,at);break;case"End":a.preventDefault(),Te(d,null,rt);break}},Me=Et();return e.jsxs(Pl,y({className:Q(N.root,j),ownerState:z,ref:n,as:g},de,{children:[Me.scrollButtonStart,Me.scrollbarSizeListener,e.jsxs(Il,{className:N.scroller,ownerState:z,style:{overflow:Je.overflow,[$?`margin${r?"Left":"Right"}`:"marginBottom"]:te?void 0:-Je.scrollbarWidth},ref:q,onScroll:ze,children:[e.jsx(El,{"aria-label":i,"aria-labelledby":h,"aria-orientation":B==="vertical"?"vertical":null,className:N.flexContainer,ownerState:z,onKeyDown:Mt,ref:fe,role:"tablist",children:zt}),Ke&&lt]}),Me.scrollButtonEnd]}))}),kl=$l,pt=m.createContext(null);function Nl(){const[t,l]=m.useState(null);return m.useEffect(()=>{l(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),t}function Rl(t){const{children:l,value:n}=t,o=Nl(),s=m.useMemo(()=>({idPrefix:o,value:n}),[o,n]);return e.jsx(pt.Provider,{value:s,children:l})}function ft(){return m.useContext(pt)}function bt(t,l){const{idPrefix:n}=t;return n===null?null:`${t.idPrefix}-P-${l}`}function xt(t,l){const{idPrefix:n}=t;return n===null?null:`${t.idPrefix}-T-${l}`}const Wl=["children"],Fl=m.forwardRef(function(l,n){const{children:o}=l,s=pe(l,Wl),r=ft();if(r===null)throw new TypeError("No TabContext provided");const i=m.Children.map(o,h=>m.isValidElement(h)?m.cloneElement(h,{"aria-controls":bt(r,h.props.value),id:xt(r,h.props.value)}):null);return e.jsx(kl,y({},s,{ref:n,value:r.value,children:i}))}),Al=Fl;function Hl(t){return we("MuiTabPanel",t)}Be("MuiTabPanel",["root"]);const _l=["children","className","value"],Dl=t=>{const{classes:l}=t;return Ie({root:["root"]},Hl,l)},Ul=se("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(t,l)=>l.root})(({theme:t})=>({padding:t.spacing(3)})),Ll=m.forwardRef(function(l,n){const o=Pe({props:l,name:"MuiTabPanel"}),{children:s,className:r,value:i}=o,h=pe(o,_l),c=y({},o),p=Dl(c),S=ft();if(S===null)throw new TypeError("No TabContext provided");const j=bt(S,i),g=xt(S,i);return e.jsx(Ul,y({"aria-labelledby":g,className:Q(p.root,r),hidden:i!==S.value,id:j,ref:n,role:"tabpanel",ownerState:c},h,{children:i===S.value&&s}))}),Fe=Ll;var Xe={},Vl=Ue;Object.defineProperty(Xe,"__esModule",{value:!0});var gt=Xe.default=void 0,Xl=Vl(De()),Ae=e,Gl=(0,Xl.default)([(0,Ae.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,Ae.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,Ae.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category");gt=Xe.default=Gl;var Ge={},ql=Ue;Object.defineProperty(Ge,"__esModule",{value:!0});var vt=Ge.default=void 0,Kl=ql(De()),Yl=e,Jl=(0,Kl.default)((0,Yl.jsx)("path",{d:"M20 0H4v2h16V0zM4 24h16v-2H4v2zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 2.75c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25S9.75 10.24 9.75 9 10.76 6.75 12 6.75zM17 17H7v-1.5c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5V17z"}),"Contacts");vt=Ge.default=Jl;var qe={},Ql=Ue;Object.defineProperty(qe,"__esModule",{value:!0});var jt=qe.default=void 0,Zl=Ql(De()),Ol=e,eo=(0,Zl.default)((0,Ol.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");jt=qe.default=eo;function to({readOnly:t,isLoading:l,control:n,errors:o,register:s}){var h,c,p,S,j,g,v,P,C,B,A,M,L,H,U,b,u,T,w,_,te,de,D,$,G,Y,J,I,k;const[r,i]=m.useState(!1);return e.jsxs(V,{container:!0,spacing:3,children:[e.jsx(V,{item:!0,xs:12,md:6,lg:4,children:e.jsxs(O,{variant:"outlined",children:[e.jsx(oe,{title:e.jsx(K,{component:"h1",variant:"h6",children:"Información básica"}),sx:{pb:0}}),e.jsxs(ee,{children:[e.jsxs(Le,{direction:"row",spacing:2,useFlexGap:!0,children:[e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"ID",disabled:t||l,error:!!((h=o.customId)!=null&&h.message),helperText:!!((c=o.customId)!=null&&c.message)&&String((p=o.customId)==null?void 0:p.message),...s("customId")}),(t||l)&&e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Estatus",disabled:t||l,error:!!((S=o.status)!=null&&S.message),helperText:!!((j=o.status)!=null&&j.message)&&String(o.status.message),...s("status")})||e.jsxs(le,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(ve,{children:"Estatus"}),e.jsx(Z,{name:"status",control:n,render:({field:z})=>{var N;return e.jsxs(je,{...z,label:"Estatus",error:!!((N=o.status)!=null&&N.message),children:[e.jsx(F,{value:"",children:e.jsx("em",{children:"Ninguno"})}),e.jsx(F,{value:"Activo",children:"Activo"}),e.jsx(F,{value:"Prospecto",children:"Prospecto"}),e.jsx(F,{value:"Pruebas",children:"Pruebas"}),e.jsx(F,{value:"Suspendido",children:"Suspendido"})]})}}),e.jsx(ce,{error:!0,children:!!((g=o.status)!=null&&g.message)&&String(o.status.message)})]})]}),e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Nombre",disabled:t||l,error:!!((v=o.name)!=null&&v.message),helperText:!!((P=o.name)!=null&&P.message)&&String(o.name.message),...s("name")}),e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Correo electrónico",type:"email",disabled:l,error:!!((C=o.email)!=null&&C.message),helperText:!!((B=o.email)!=null&&B.message)&&String(o.email.message),...s("email"),onMouseEnter:()=>t&&i(!0),onMouseLeave:()=>t&&i(!1),InputProps:{readOnly:t,endAdornment:r&&e.jsx(ot,{position:"end",children:e.jsx(Ve,{edge:"end",size:"small",children:e.jsx(jt,{fontSize:"small"})})})}}),e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"País",disabled:t||l,error:!!((A=o.country)!=null&&A.message),helperText:!!((M=o.country)!=null&&M.message)&&String(o.country.message),...s("country")})]})]})}),e.jsx(V,{item:!0,xs:12,md:6,lg:4,children:e.jsxs(O,{variant:"outlined",children:[e.jsx(oe,{title:e.jsx(K,{component:"h1",variant:"h6",children:"Información fiscal"}),sx:{pb:0}}),e.jsxs(ee,{children:[(t||l)&&e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Giro",disabled:t||l,error:!!((L=o.economicActivity)!=null&&L.message),helperText:!!((H=o.economicActivity)!=null&&H.message)&&String(o.economicActivity.message),...s("economicActivity")})||e.jsxs(le,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(ve,{children:"Giro"}),e.jsx(Z,{name:"economicActivity",control:n,render:({field:z})=>{var N;return e.jsxs(je,{...z,label:"Giro",error:!!((N=o.economicActivity)!=null&&N.message),children:[e.jsx(F,{value:"",children:e.jsx("em",{children:"Ninguno"})}),e.jsx(F,{value:"Distribuidor",children:"Distribuidor"}),e.jsx(F,{value:"Fintech",children:"Fintech"}),e.jsx(F,{value:"Operador / Distribuidor",children:"Operador / Distribuidor"})]})}}),e.jsx(ce,{error:!0,children:!!((U=o.economicActivity)!=null&&U.message)&&String(o.economicActivity.message)})]}),e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Razón social",disabled:t||l,error:!!((b=o.registeredName)!=null&&b.message),helperText:!!((u=o.registeredName)!=null&&u.message)&&String(o.registeredName.message),...s("registeredName")}),e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"RFC",disabled:t||l,error:!!((T=o.rfc)!=null&&T.message),helperText:!!((w=o.rfc)!=null&&w.message)&&String(o.rfc.message),...s("rfc")}),e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Domicilio fiscal",disabled:t||l,error:!!((_=o.address)!=null&&_.message),helperText:!!((te=o.address)!=null&&te.message)&&String(o.address.message),...s("address")})]})]})}),e.jsx(V,{item:!0,xs:12,md:6,lg:4,children:e.jsxs(O,{variant:"outlined",children:[e.jsx(oe,{title:e.jsx(K,{component:"h1",variant:"h6",children:"Información de venta"}),sx:{pb:0}}),e.jsxs(ee,{children:[e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Nombre del vendedor",disabled:t||l,error:!!((de=o.sellerName)!=null&&de.message),helperText:!!((D=o.sellerName)!=null&&D.message)&&String(o.sellerName.message),...s("sellerName")}),e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Vigencia de comisión",type:"date",InputLabelProps:{shrink:!0},disabled:t||l,error:!!(($=o.comissionTerm)!=null&&$.message),helperText:!!((G=o.comissionTerm)!=null&&G.message)&&String(o.comissionTerm.message),...s("comissionTerm")}),e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Porcentaje de comisión",type:"number",InputProps:{inputProps:{disabled:t||l,step:1,min:0},endAdornment:e.jsx(ot,{position:"end",children:"%"})},disabled:t||l,error:!!((Y=o.percentageComissions)!=null&&Y.message),helperText:!!((J=o.percentageComissions)!=null&&J.message)&&String(o.percentageComissions.message),...s("percentageComissions")}),e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Comentarios del vendedor",disabled:t||l,error:!!((I=o.sellerComments)!=null&&I.message),helperText:!!((k=o.sellerComments)!=null&&k.message)&&String(o.sellerComments.message),...s("sellerComments")})]})]})})]})}function lo({readOnly:t,isLoading:l,control:n,fields:o,errors:s,deleteContactByIndex:r,addContact:i}){const h=c=>{r(c)};return e.jsxs(V,{container:!0,spacing:3,children:[o==null?void 0:o.map((c,p)=>{var S,j;return e.jsx(V,{item:!0,xs:12,md:4,children:e.jsxs(O,{variant:"outlined",sx:{height:"300px"},children:[e.jsx(oe,{title:e.jsx(K,{component:"h1",variant:"h6",children:"Información de contacto"}),action:t||e.jsx(Yt,{title:"Eliminar",arrow:!0,children:e.jsx(Ve,{size:"small",onClick:()=>h(p),children:e.jsx(Kt,{})})}),sx:{pb:0}}),e.jsxs(ee,{children:[t&&e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Tipo",defaultValue:(c==null?void 0:c.type)==="com"?"Comercial":"Tecnología",disabled:t})||e.jsxs(le,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(ve,{children:"Tipo"}),e.jsx(Z,{name:`contacts.${p}.type`,control:n,render:({field:g})=>{var v;return e.jsxs(je,{...g,label:"Tipo",error:!!(s!=null&&s.contacts&&((v=s.contacts[p])!=null&&v.type)),children:[e.jsx(F,{value:"com",children:"Comercial"}),e.jsx(F,{value:"tec",children:"Tecnología"})]})}}),e.jsx(ce,{error:!0,children:(s==null?void 0:s.contacts)&&((j=(S=s.contacts[p])==null?void 0:S.type)==null?void 0:j.message)})]}),e.jsx(Z,{name:`contacts.${p}.name`,control:n,render:({field:g})=>{var v,P,C;return e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Nombre",disabled:t||l,error:!!(s!=null&&s.contacts&&((v=s.contacts[p])!=null&&v.name)),helperText:(s==null?void 0:s.contacts)&&((C=(P=s.contacts[p])==null?void 0:P.name)==null?void 0:C.message),...g})}},c==null?void 0:c.id),e.jsx(Z,{name:`contacts.${p}.email`,control:n,render:({field:g})=>{var v,P,C;return e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Correo electrónico",disabled:t||l,error:!!(s!=null&&s.contacts&&((v=s.contacts[p])!=null&&v.email)),helperText:(s==null?void 0:s.contacts)&&((C=(P=s.contacts[p])==null?void 0:P.email)==null?void 0:C.message),...g})}},c==null?void 0:c.id)]})]})})}),t||e.jsx(V,{item:!0,xs:12,md:4,children:e.jsx(O,{variant:"outlined",sx:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",":hover":{backgroundColor:c=>kt(c.palette.common.black,.02)}},onClick:i,children:e.jsx(ee,{children:e.jsxs(Le,{spacing:1,sx:{display:"flex",alignItems:"center"},children:[e.jsx(Lt,{}),e.jsx(K,{variant:"caption",children:"Agregar contacto"})]})})})})]})}const He=[{name:"Android",value:"android"},{name:"iOS",value:"ios"},{name:"Windows",value:"windows"}],oo=[{name:"HBM3M"},{name:"HBM1A"},{name:"HBM3A"}],so=[{name:"HBM3M"},{name:"HBM1A"},{name:"HBM3A"}];function no({productsList:t,products:l,readOnly:n,isLoading:o,control:s,register:r,errors:i,getValues:h,setValue:c}){var j,g,v,P,C,B,A,M,L,H,U;const p=b=>{const{devices:u}=h(),T=u!=null&&u.find(w=>w===b.value)?u==null?void 0:u.filter(w=>w!==b.value):[...u??[],b.value];c("devices",T)},S=b=>{const{products:u}=h(),T=u!=null&&u.find(w=>w.shortName===b.shortName)?u==null?void 0:u.filter(w=>w.shortName!==b.shortName):[...u??[],{shortName:b.shortName}];c("products",T)};return e.jsxs(V,{container:!0,spacing:3,children:[e.jsx(V,{item:!0,xs:12,md:6,lg:4,children:e.jsxs(O,{variant:"outlined",children:[e.jsx(oe,{title:e.jsx(K,{component:"h1",variant:"h6",children:"Productos generales"}),sx:{pb:0}}),e.jsx(ee,{children:e.jsxs(le,{variant:"standard",error:!!((j=i.products)!=null&&j.message),children:[e.jsx(Z,{name:"products",render:()=>{var b;return(b=t==null?void 0:t.data)==null?void 0:b.map(u=>e.jsx(xe,{control:e.jsx(ge,{size:"small",color:"secondary",disabled:n||o,onChange:()=>S(u),defaultChecked:!!(l!=null&&l.find(T=>T.shortName===u.shortName))}),label:u.name},u.id))},control:s}),e.jsx(ce,{children:!!((g=i.products)!=null&&g.message)&&String(i.products.message)})]})})]})}),e.jsx(V,{item:!0,xs:12,md:6,lg:4,children:e.jsxs(O,{variant:"outlined",sx:{height:"100%"},children:[e.jsx(oe,{title:e.jsx(K,{component:"h1",variant:"h6",children:"Dispositivos"}),sx:{pb:0}}),e.jsx(ee,{children:e.jsxs(le,{variant:"standard",error:!!((v=i.devices)!=null&&v.message),children:[e.jsx(Z,{name:"devices",render:()=>He==null?void 0:He.map(b=>{var u,T;return e.jsx(xe,{control:e.jsx(ge,{size:"small",color:"secondary",disabled:n||o,onChange:()=>p(b),defaultChecked:!!((T=(u=h())==null?void 0:u.devices)!=null&&T.find(w=>w===b.value))}),label:b.name},b.name)}),control:s}),e.jsx(ce,{children:!!((P=i.devices)!=null&&P.message)&&String(i.devices.message)})]})})]})}),e.jsx(V,{item:!0,xs:12,md:6,lg:4,children:e.jsxs(O,{variant:"outlined",sx:{height:"100%"},children:[e.jsx(oe,{title:e.jsx(K,{component:"h1",variant:"h6",children:"SKUs"}),sx:{pb:0}}),e.jsxs(ee,{children:[e.jsxs(Le,{direction:"row",spacing:2,useFlexGap:!0,children:[e.jsxs(le,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(ve,{children:"SKU Start"}),e.jsx(Z,{name:"skuStart",control:s,render:({field:b})=>{var u;return e.jsxs(je,{...b,label:"SKU Start",disabled:n||o,error:!!((u=i.skuStart)!=null&&u.message),children:[e.jsx(F,{value:"",children:e.jsx("em",{children:"Ninguno"})}),oo.map(({name:T})=>e.jsx(F,{value:T,children:T}))]})}}),e.jsx(ce,{error:!0,children:!!((C=i.skuStart)!=null&&C.message)&&String(i.skuStart.message)})]}),e.jsxs(le,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(ve,{children:"SKU End"}),e.jsx(Z,{name:"skuEnd",control:s,render:({field:b})=>{var u;return e.jsxs(je,{...b,label:"SKU End",disabled:n||o,error:!!((u=i.skuEnd)!=null&&u.message),children:[e.jsx(F,{value:"",children:e.jsx("em",{children:"Ninguno"})}),so.map(({name:T})=>e.jsx(F,{value:T,children:T}))]})}}),e.jsx(ce,{error:!0,children:!!((B=i.skuEnd)!=null&&B.message)&&String(i.skuEnd.message)})]})]}),e.jsxs(le,{variant:"standard",sx:{mt:1},children:[e.jsx(qt,{children:"Otros"}),e.jsx(xe,{control:e.jsx(ge,{size:"small",color:"secondary",disabled:n||o,defaultChecked:(A=h())==null?void 0:A.sku3m,...r("sku3m")}),label:"Contar 3 meses"}),e.jsx(xe,{control:e.jsx(ge,{size:"small",color:"secondary",disabled:n||o,defaultChecked:(M=h())==null?void 0:M.skuHBMF,...r("skuHBMF")}),label:"HBMF"}),e.jsx(xe,{control:e.jsx(ge,{size:"small",color:"secondary",disabled:n||o,defaultChecked:(L=h())==null?void 0:L.skuHBMPRE,...r("skuHBMPRE")}),label:"HBMPRE"})]})]})]})}),e.jsx(V,{item:!0,xs:12,md:6,lg:4,children:e.jsxs(O,{variant:"outlined",sx:{height:"100%"},children:[e.jsx(oe,{title:e.jsx(K,{component:"h1",variant:"h6",children:"PAC"}),sx:{pb:0}}),e.jsx(ee,{children:e.jsx(R,{margin:"normal",fullWidth:!0,size:"small",label:"Nombre de la BD",disabled:n||o,error:!!((H=i.dbName)!=null&&H.message),helperText:!!((U=i.dbName)!=null&&U.message)&&String(i.dbName.message),...r("dbName")})})]})})]})}const ao=/^\d{4}-[01]\d-[0-3]\d$|^$/,ro=Ne({customId:E(),name:E(),email:E(),country:E(),registeredName:E(),rfc:E(),address:E(),economicActivity:E(),status:E(),sellerName:E(),sellerComments:E(),comissionTerm:E().regex(ao,"La fecha debe estar en formato yyyy-MM-dd"),percentageComissions:re.coerce.number().gte(0,"El porcentaje de comisión debe ser mayor o igual a 0").lte(100,"El porcentaje de comisión debe ser menor o igual a 100"),products:re.array(Ne({shortName:E()})),contacts:re.array(Ne({type:E(),name:E().optional(),email:E().optional()})),devices:re.array(E()),skuStart:E(),skuEnd:E(),sku3m:re.boolean(),skuHBMF:re.boolean(),skuHBMPRE:re.boolean(),dbName:E()});function Wo({customer:t,productsList:l=null,readOnly:n=!1,newCustomer:o=!1,isLoading:s=!1}){const r=Nt(),i=Rt(),[h,c]=Wt(),[p,S]=m.useState(!1),j=Jt(I=>I.showSnackbar),[g,v]=m.useState(h.get("tab")??"general"),P=(I,k)=>{v(k),c({tab:k})},{control:C,formState:{errors:B},getValues:A,handleSubmit:M,register:L,setValue:H}=At({defaultValues:{...t},resolver:Ht(ro)}),{append:U,fields:b,remove:u}=_t({name:"contacts",control:C}),T=()=>{D()},w=()=>{G()},_=I=>{o?de(I):te(t==null?void 0:t.id,I)},te=(I,k)=>{S(!0);const z=new URL(`${st}/customers/${I}`);fetch(z,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}).then(N=>{if(!N.ok){j("Error al intentar acualizar el cliente","error");return}$(),j("El cliente se actualizó correctamente","success")}).catch(N=>j("Error al intentar acualizar el cliente","error")).finally(()=>S(!1))},de=I=>{S(!0);const k=new URL(`${st}/customers`);fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}).then(z=>{if(!z.ok){j("Error al intentar crear el cliente","error");return}D(),j("El cliente se creó correctamente","success")}).catch(z=>j("Error al intentar crear el cliente","error")).finally(()=>S(!1))},D=()=>{if(i.state){const{perPage:I,page:k,q:z}=i.state;r({pathname:"/admin/customers",search:`?perPage=${I}&page=${k}&q=${z}`})}else r("/admin/customers")},$=()=>{r({pathname:`/admin/customers/${t==null?void 0:t.id}`,search:`?tab=${g}`},{state:i.state})},G=()=>{r({pathname:`/admin/customers/${t==null?void 0:t.id}/edit`,search:`?tab=${g}`})},Y=I=>{u(I)},J=()=>{console.log("addContact"),U({type:"com",name:"",email:""})};return e.jsx(Qt,{sx:{mt:4,mb:4},children:e.jsxs(ke,{component:"form",onSubmit:M(_),noValidate:!0,children:[e.jsxs(Zt,{disableGutters:!0,children:[e.jsx(Ve,{size:"large",color:"inherit",sx:{mr:2},onClick:T,children:e.jsx(Gt,{})}),e.jsx(K,{component:"h2",variant:"h5",noWrap:!0,sx:t!=null&&t.name?{flexGrow:1}:{flexGrow:1,fontStyle:"italic"},children:o?"Cliente sin nombre":t==null?void 0:t.name}),e.jsxs(ke,{sx:{display:"flex",gap:2},children:[e.jsx(Ft,{size:"small",color:"info",startIcon:e.jsx(Vt,{}),onClick:w,disabled:!n,children:"Editar"}),e.jsx(Dt,{id:t==null?void 0:t.id,name:t==null?void 0:t.name,onFinished:()=>{},disabled:!n}),e.jsx(Ot,{variant:"contained",size:"small",loadingPosition:"start",disableElevation:!0,startIcon:e.jsx(Xt,{}),type:"submit",disabled:n||p,loading:p,children:"Guardar"})]})]}),e.jsx(tl,{variant:"outlined",children:e.jsxs(Rl,{value:g,children:[e.jsx(ke,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Al,{onChange:P,indicatorColor:"secondary",children:[e.jsx(Re,{icon:e.jsx(Ut,{}),iconPosition:"start",label:"Información general",value:"general"}),e.jsx(Re,{icon:e.jsx(vt,{}),iconPosition:"start",label:"Contactos",value:"contacts"}),e.jsx(Re,{icon:e.jsx(gt,{}),iconPosition:"start",label:"Productos",value:"products"})]})}),e.jsx(Fe,{value:"general",children:e.jsx(to,{readOnly:n,isLoading:s||p,control:C,register:L,errors:B})}),e.jsx(Fe,{value:"contacts",children:e.jsx(lo,{readOnly:n,isLoading:s||p,control:C,fields:b,errors:B,deleteContactByIndex:Y,addContact:J})}),e.jsx(Fe,{value:"products",children:e.jsx(no,{productsList:l,products:t==null?void 0:t.products,readOnly:n,isLoading:s||p,control:C,register:L,errors:B,getValues:A,setValue:H})})]})})]})})}export{Wo as C};
