import{r as D,i as E}from"./createSvgIcon-abbd2357.js";import{j as a,r as l,w as c,s as b,T as d}from"./index-32292c13.js";import{d as _,D as k,a as y}from"./Delete-298fa468.js";import{u as S}from"./common-f0c17bc9.js";import{A as I}from"./constants-a5768e35.js";import{D as L,a as w,b as z}from"./DialogActions-c49c2bf1.js";import{A as P}from"./Alert-c2f8e205.js";import{L as R}from"./LoadingButton-e0ccb8bc.js";var o={},A=E;Object.defineProperty(o,"__esModule",{value:!0});var T=o.default=void 0,q=A(D()),B=a,O=(0,q.default)((0,B.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");T=o.default=O;function H({id:m,name:u,onFinished:p,disabled:f=!1}){const[h,r]=l.useState(!1),[x,s]=l.useState(!1),i=S(e=>e.showSnackbar),g=e=>{e.stopPropagation(),e.preventDefault(),r(!0)},n=e=>{e.stopPropagation(),e.preventDefault(),r(!1)},j=e=>{e.stopPropagation(),e.preventDefault(),v({id:m})},v=({id:e})=>{s(!0);const C=new URL(`${I}/customers/${e}`);fetch(C,{method:"DELETE"}).then(async t=>await t.json()).then(t=>{i("El cliente se eliminó corretamente","success"),p()}).catch(t=>i("Error al intentar eliminar el cliente","error")).finally(()=>{r(!1),s(!1)})};return a.jsxs(a.Fragment,{children:[a.jsx(c,{size:"small",color:"error",startIcon:a.jsx(_,{}),onClick:e=>g(e),disabled:f,children:"Eliminar"}),a.jsxs(L,{fullWidth:!0,maxWidth:"sm",open:h,onClose:e=>n(e),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[a.jsx(k,{id:"alert-dialog-title",children:"Eliminar cliente"}),a.jsxs(w,{children:[a.jsxs(y,{id:"alert-dialog-description",children:[a.jsx(P,{severity:"warning",color:"error",children:"Depués de eliminar un cliente, este se borra de manera permanente. Esta acción no se puede deshacer."}),a.jsxs(b,{m:2,children:[a.jsx(d,{variant:"caption",children:"Nombre del cliente"}),a.jsx(d,{mt:1,color:"black",children:u})]})]}),a.jsxs(z,{children:[a.jsx(c,{size:"small",onClick:n,children:"Cancelar"}),a.jsx(R,{loading:x,variant:"contained",color:"error",size:"small",loadingPosition:"start",disableElevation:!0,autoFocus:!0,onClick:j,children:"Eliminar"})]})]})]})]})}export{H as C,T as d};
