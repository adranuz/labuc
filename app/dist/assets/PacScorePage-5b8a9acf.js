import{x as C,r as o,j as t}from"./index-64ee5db4.js";import{T as g}from"./Toolbar-85484bb9.js";import{S as j,a as v}from"./StatsCard-0582e25a.js";import{A as I}from"./constants-2e6fc461.js";import{l as b,d as A}from"./utils-ae6c9da2.js";import{C as T}from"./Container-5ebdd271.js";import{P as L}from"./Paper-3ba8c3cc.js";import{G as p}from"./Grid-6d55df83.js";import{P as w}from"./Page-9b18e939.js";import"./ArrowBack-afe2bf24.js";import"./createSvgIcon-9ace6ece.js";import"./Toolbar-984ecaee.js";import"./Backdrop-83b371ec.js";import"./FormControl-24d1bd67.js";import"./Select-eabe2e08.js";import"./Menu-292a1a41.js";import"./MenuItem-99edd351.js";import"./dividerClasses-f4851a5f.js";import"./ArrowForward-efd550d8.js";import"./CardContent-e1ee60bb.js";import"./CardHeader-ede4a4ea.js";import"./Divider-b1bfc0d9.js";function y(){const[i,u]=C(),[l,n]=o.useState(!1),[r,d]=o.useState(void 0),[f,S]=o.useState([]),[a,h]=o.useState(void 0),x=s=>{d(s),i.set("customerId",s.id),u(i)};o.useEffect(()=>{r!==void 0&&P(r.id)},[r]);const P=s=>{n(!0);const c=new URL(`${I}/pac/customers/${s}/stats`);fetch(c).then(async e=>await e.json()).then(e=>{const m=[{name:"General",value:(e==null?void 0:e.successScore)+(e==null?void 0:e.errorScore),status:void 0},{name:"Aceptado",value:(e==null?void 0:e.successScore)??0,status:"accepted"},{name:"No aceptado",value:(e==null?void 0:e.errorScore)??0,status:"notAccepted"}];S(m),h(e==null?void 0:e.createdAt)}).finally(()=>n(!1))};return t.jsx(T,{sx:{mt:4,mb:4},children:t.jsxs(L,{variant:"outlined",sx:{width:"100%",mb:2,pt:1},children:[t.jsx(g,{title:"Score de crédito PAC",children:t.jsx(j,{onChange:x,defaultCustomerId:i.get("customerId"),hasProducts:["credolab","lms"]})}),t.jsx(p,{container:!0,spacing:3,marginTop:1,padding:3,children:f.map(({name:s,value:c,status:e},m)=>t.jsx(p,{item:!0,xs:12,md:3,children:t.jsx(v,{title:s,subtitle:a&&"Total al "+b({date:a,withTime:!1}),value:c,isLoading:l,href:`/tool/pac/score/report?${A({customerId:r==null?void 0:r.id,status:e})}`,goToLabel:"Ver"})},m))})]})})}function Y(){return t.jsx(w,{title:"Score de crédito PAC",children:t.jsx(y,{})})}export{Y as default};
