import{_ as h,r as x,u as Y,a as H,j as e,c as O,b as ue,f as xe,h as fe,i as he}from"./index-2dbb1652.js";import{r as A,i as q}from"./createSvgIcon-a0ec418b.js";import{f as me}from"./Delete-b74427b3.js";import{C as _,d as pe}from"./SaveAlt-4c673f42.js";import{S as je,F as I,d as ve}from"./ArrowBack-3531cade.js";import{C as be}from"./ConfirmCustomerDeletion-8bcbe79d.js";import{G as i}from"./Grid-8e00a65e.js";import{T as t,F as v,I as D,a as $}from"./TextField-08f9fe99.js";import{u as ge,f as Ce,S as E}from"./Select-491dbed8.js";import{M as u}from"./MenuItem-eec1fee2.js";import{I as Re}from"./InputAdornment-dc5b167b.js";import{g as ee,E as k,c as ae,a as ne,r as ze}from"./styled-4db7b868.js";import{g as le,c as se,i as Se,j as Pe,u as Ie,k as $e,T as ke,P as Me}from"./Typography-94b0b471.js";import{C as _e}from"./Container-84fa18ed.js";import{B as F}from"./Box-2b2c394b.js";import{T as Fe}from"./Toolbar-cb95e5db.js";import{I as Ve}from"./Menu-c2f3532a.js";import{B as Be}from"./Page-d6c42c0d.js";import{L as Ge}from"./LoadingButton-8732500b.js";import{T as we,a as We,b as V,c as B}from"./TabPanel-c8741bf3.js";function Te(a){return ee("MuiFormGroup",a)}le("MuiFormGroup",["root","row","error"]);const Ne=["className","row"],ye=a=>{const{classes:n,row:l,error:r}=a;return ne({root:["root",l&&"row",r&&"error"]},Te,n)},De=k("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(a,n)=>{const{ownerState:l}=a;return[n.root,l.row&&n.row]}})(({ownerState:a})=>h({display:"flex",flexDirection:"column",flexWrap:"wrap"},a.row&&{flexDirection:"row"})),Ee=x.forwardRef(function(n,l){const r=Y({props:n,name:"MuiFormGroup"}),{className:s,row:d=!1}=r,b=H(r,Ne),c=ge(),g=Ce({props:r,muiFormControl:c,states:["error"]}),p=h({},r,{row:d,error:g.error}),m=ye(p);return e.jsx(De,h({className:ae(m.root,s),ownerState:p,ref:l},b))}),He=Ee,Ae=se(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),qe=se(e.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Ue=k("span")({position:"relative",display:"flex"}),Le=k(Ae)({transform:"scale(1)"}),Ke=k(qe)(({theme:a,ownerState:n})=>h({left:0,position:"absolute",transform:"scale(0)",transition:a.transitions.create("transform",{easing:a.transitions.easing.easeIn,duration:a.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:a.transitions.create("transform",{easing:a.transitions.easing.easeOut,duration:a.transitions.duration.shortest})}));function ie(a){const{checked:n=!1,classes:l={},fontSize:r}=a,s=h({},a,{checked:n});return e.jsxs(Ue,{className:l.root,ownerState:s,children:[e.jsx(Le,{fontSize:r,className:l.background,ownerState:s}),e.jsx(Ke,{fontSize:r,className:l.dot,ownerState:s})]})}const Ze=x.createContext(void 0),re=Ze;function Je(){return x.useContext(re)}function Qe(a){return ee("MuiRadio",a)}const Xe=le("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),Z=Xe,Ye=["checked","checkedIcon","color","icon","name","onChange","size","className"],Oe=a=>{const{classes:n,color:l}=a,r={root:["root",`color${O(l)}`]};return h({},n,ne(r,Qe,n))},ea=k(je,{shouldForwardProp:a=>ze(a)||a==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(a,n)=>{const{ownerState:l}=a;return[n.root,n[`color${O(l.color)}`]]}})(({theme:a,ownerState:n})=>h({color:(a.vars||a).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:a.vars?`rgba(${n.color==="default"?a.vars.palette.action.activeChannel:a.vars.palette[n.color].mainChannel} / ${a.vars.palette.action.hoverOpacity})`:ue(n.color==="default"?a.palette.action.active:a.palette[n.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},n.color!=="default"&&{[`&.${Z.checked}`]:{color:(a.vars||a).palette[n.color].main}},{[`&.${Z.disabled}`]:{color:(a.vars||a).palette.action.disabled}}));function aa(a,n){return typeof n=="object"&&n!==null?a===n:String(a)===String(n)}const J=e.jsx(ie,{checked:!0}),Q=e.jsx(ie,{}),na=x.forwardRef(function(n,l){var r,s;const d=Y({props:n,name:"MuiRadio"}),{checked:b,checkedIcon:c=J,color:g="primary",icon:p=Q,name:m,onChange:C,size:j="medium",className:S}=d,R=H(d,Ye),z=h({},d,{color:g,size:j}),o=Oe(z),f=Je();let P=b;const ce=Se(C,f&&f.onChange);let M=m;return f&&(typeof P>"u"&&(P=aa(f.value,d.value)),typeof M>"u"&&(M=f.name)),e.jsx(ea,h({type:"radio",icon:x.cloneElement(p,{fontSize:(r=Q.props.fontSize)!=null?r:j}),checkedIcon:x.cloneElement(c,{fontSize:(s=J.props.fontSize)!=null?s:j}),ownerState:z,classes:o,name:M,checked:P,onChange:ce,ref:l,className:ae(o.root,S)},R))}),X=na,la=["actions","children","defaultValue","name","onChange","value"],sa=x.forwardRef(function(n,l){const{actions:r,children:s,defaultValue:d,name:b,onChange:c,value:g}=n,p=H(n,la),m=x.useRef(null),[C,j]=Pe({controlled:g,default:d,name:"RadioGroup"});x.useImperativeHandle(r,()=>({focus:()=>{let o=m.current.querySelector("input:not(:disabled):checked");o||(o=m.current.querySelector("input:not(:disabled)")),o&&o.focus()}}),[]);const S=Ie(l,m),R=$e(b),z=x.useMemo(()=>({name:R,onChange(o){j(o.target.value),c&&c(o,o.target.value)},value:C}),[R,c,j,C]);return e.jsx(re.Provider,{value:z,children:e.jsx(He,h({role:"radiogroup",ref:S},p,{children:s}))})}),G=sa;var U={},ia=q;Object.defineProperty(U,"__esModule",{value:!0});var oe=U.default=void 0,ra=ia(A()),w=e,oa=(0,ra.default)([(0,w.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,w.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,w.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category");oe=U.default=oa;var L={},ta=q;Object.defineProperty(L,"__esModule",{value:!0});var te=L.default=void 0,da=ta(A()),ca=e,ua=(0,da.default)((0,ca.jsx)("path",{d:"M20 0H4v2h16V0zM4 24h16v-2H4v2zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 2.75c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25S9.75 10.24 9.75 9 10.76 6.75 12 6.75zM17 17H7v-1.5c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5V17z"}),"Contacts");te=L.default=ua;var K={},xa=q;Object.defineProperty(K,"__esModule",{value:!0});var de=K.default=void 0,fa=xa(A()),ha=e,ma=(0,fa.default)((0,ha.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");de=K.default=ma;function pa({customer:a,readOnly:n}){var l;return e.jsxs(e.Fragment,{children:[e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"ID",defaultValue:a==null?void 0:a.customId,disabled:n})}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Nombre",defaultValue:a==null?void 0:a.name,disabled:n})}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Correo electrónico",type:"email",defaultValue:a==null?void 0:a.email,disabled:n})})]}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"País",defaultValue:a==null?void 0:a.country,disabled:n})}),e.jsx(i,{item:!0,xs:12,md:4,children:n&&e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Giro",defaultValue:a==null?void 0:a.economicActivity,disabled:n})||e.jsxs(v,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(D,{children:"Giro"}),e.jsxs(E,{label:"Giro",defaultValue:a==null?void 0:a.economicActivity,children:[e.jsx(u,{value:"",children:e.jsx("em",{children:"Ninguno"})}),e.jsx(u,{value:"Distribuidor",children:"Distribuidor"}),e.jsx(u,{value:"Fintech",children:"Fintech"}),e.jsx(u,{value:"Operador / Distribuidor",children:"Operador / Distribuidor"})]})]})}),e.jsx(i,{item:!0,xs:12,md:4,children:n&&e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Estatus",defaultValue:a==null?void 0:a.status,disabled:n})||e.jsxs(v,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(D,{children:"Estatus"}),e.jsxs(E,{label:"Estatus",defaultValue:a==null?void 0:a.status,children:[e.jsx(u,{value:"",children:e.jsx("em",{children:"Ninguno"})}),e.jsx(u,{value:"Activo",children:"Activo"}),e.jsx(u,{value:"Prospecto",children:"Prospecto"}),e.jsx(u,{value:"Pruebas",children:"Pruebas"}),e.jsx(u,{value:"Suspendido",children:"Suspendido"})]})]})})]}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"RFC",defaultValue:a==null?void 0:a.rfc,disabled:n})}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Razón social",defaultValue:a==null?void 0:a.registeredName,disabled:n})}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Domicilio fiscal",defaultValue:a==null?void 0:a.address,disabled:n})})]}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Nombre del vendedor",defaultValue:a==null?void 0:a.sellerName,disabled:n})}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Vigencia de comisión",type:"date",InputLabelProps:{shrink:!0},defaultValue:(l=a==null?void 0:a.comissionTerm)==null?void 0:l.slice(0,10),disabled:n})}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Porcentaje de comisión",type:"number",InputProps:{inputProps:{disabled:n,step:1,min:0},endAdornment:e.jsx(Re,{position:"end",children:"%"})},defaultValue:(a==null?void 0:a.percentageComissions)||0,disabled:n})})]}),e.jsx(i,{container:!0,spacing:3,children:e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Comentarios del vendedor",defaultValue:a==null?void 0:a.sellerComments,disabled:n})})})]})}function ja({contacts:a,readOnly:n}){return e.jsx(e.Fragment,{children:a==null?void 0:a.map(l=>e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,md:2,children:n&&e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Tipo",defaultValue:(l==null?void 0:l.type)==="com"?"Comercial":"Tecnología",disabled:n})||e.jsxs(v,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(D,{children:"Tipo"}),e.jsxs(E,{label:"Tipo",defaultValue:l==null?void 0:l.type,children:[e.jsx(u,{value:"com",children:"Comercial"}),e.jsx(u,{value:"tec",children:"Tecnología"})]})]})}),e.jsx(i,{item:!0,xs:12,md:5,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Nombre",defaultValue:l==null?void 0:l.name,disabled:n})}),e.jsx(i,{item:!0,xs:12,md:5,children:e.jsx(t,{margin:"normal",fullWidth:!0,size:"small",label:"Correo electrónico",defaultValue:l==null?void 0:l.email,disabled:n})})]}))})}const W=[{name:"Android"},{name:"iOS"},{name:"Windows"}],T=[{name:"HBM3M"},{name:"HBM3A"},{name:"HBM1A"},{name:"HBMF "},{name:"HBMPRE"}],N=[{name:"HBM3M"},{name:"HBM3A"},{name:"HBM1A"},{name:"HBMF "},{name:"HBMPRE"}],y=[{name:"Contar 3 meses"}];function va({productsList:a,products:n,readOnly:l}){var r;return e.jsxs(i,{container:!0,spacing:1,children:[e.jsx(i,{item:!0,xs:12,md:6,lg:3,children:e.jsxs(v,{variant:"standard",children:[e.jsx($,{children:"Productos General"}),(r=a==null?void 0:a.data)==null?void 0:r.map(s=>e.jsx(I,{control:e.jsx(_,{size:"small",color:"secondary",defaultChecked:!!(n!=null&&n.find(d=>d.shortName===s.shortName)),disabled:l}),label:s.name}))]})}),e.jsx(i,{item:!0,xs:12,md:6,lg:3,children:e.jsxs(v,{variant:"standard",children:[e.jsx($,{children:"Dispositivos"}),W==null?void 0:W.map(s=>e.jsx(I,{control:e.jsx(_,{size:"small",color:"secondary",defaultChecked:!1,disabled:l}),label:s.name}))]})}),e.jsx(i,{item:!0,xs:12,md:6,lg:2,children:e.jsxs(v,{variant:"standard",children:[e.jsx($,{children:"SKU Start"}),e.jsx(G,{children:T==null?void 0:T.map(s=>e.jsx(I,{value:s.name,control:e.jsx(X,{size:"small",color:"secondary",disabled:l}),label:s.name}))})]})}),e.jsx(i,{item:!0,xs:12,md:6,lg:2,children:e.jsxs(v,{variant:"standard",children:[e.jsx($,{children:"SKU End"}),e.jsx(G,{children:N==null?void 0:N.map(s=>e.jsx(I,{value:s.name,control:e.jsx(X,{size:"small",color:"secondary",disabled:l}),label:s.name}))})]})}),e.jsx(i,{item:!0,xs:12,md:6,lg:2,children:e.jsxs(v,{variant:"standard",children:[e.jsx($,{children:"Otros"}),e.jsx(G,{children:y==null?void 0:y.map(s=>e.jsx(I,{value:s.name,control:e.jsx(_,{size:"small",color:"secondary",disabled:l,defaultChecked:!0}),label:s.name}))})]})})]})}function ya({customer:a,productsList:n=null,readOnly:l=!1}){const r=xe(),s=fe(),[d,b]=he(),[c,g]=x.useState(d.get("tab")||"general"),p=(o,f)=>{g(f),b({tab:f})},m=()=>{S()},C=()=>{z()},j=o=>{o.preventDefault(),a!=null&&a.name&&R()},S=()=>{if(s.state){const{perPage:o,page:f,q:P}=s.state;r({pathname:"/admin/customers",search:`?perPage=${o}&page=${f}&q=${P}`})}else r("/admin/customers")},R=()=>{r({pathname:`/admin/customers/${a==null?void 0:a.id}`,search:`?tab=${c}`},{state:s.state})},z=()=>{r({pathname:`/admin/customers/${a==null?void 0:a.id}/edit`,search:`?tab=${c}`})};return e.jsx(_e,{sx:{mt:4,mb:4},children:e.jsxs(F,{component:"form",onSubmit:j,noValidate:!0,children:[e.jsxs(Fe,{disableGutters:!0,children:[e.jsx(Ve,{size:"large",color:"inherit",sx:{mr:2},onClick:m,children:e.jsx(ve,{})}),e.jsx(ke,{component:"h1",variant:"h6",noWrap:!0,sx:a!=null&&a.name?{flexGrow:1}:{flexGrow:1,fontStyle:"italic"},children:a!=null&&a.name?a==null?void 0:a.name:"Cliente sin nombre"}),e.jsxs(F,{sx:{display:"flex",gap:2},children:[e.jsx(Be,{size:"small",color:"info",startIcon:e.jsx(me,{}),onClick:C,disabled:!l,children:"Editar"}),e.jsx(be,{id:a==null?void 0:a.id,name:a==null?void 0:a.name,onFinished:()=>{},disabled:!l}),e.jsx(Ge,{variant:"contained",size:"small",disableElevation:!0,startIcon:e.jsx(pe,{}),type:"submit",disabled:l,children:"Guardar"})]})]}),e.jsx(Me,{variant:"outlined",children:e.jsxs(we,{value:c,children:[e.jsx(F,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(We,{onChange:p,indicatorColor:"secondary",children:[e.jsx(V,{icon:e.jsx(de,{}),iconPosition:"start",label:"Información general",value:"general"}),e.jsx(V,{icon:e.jsx(te,{}),iconPosition:"start",label:"Contactos",value:"contacts"}),e.jsx(V,{icon:e.jsx(oe,{}),iconPosition:"start",label:"Productos",value:"products"})]})}),e.jsx(B,{value:"general",children:e.jsx(pa,{customer:a,readOnly:l})}),e.jsx(B,{value:"contacts",children:e.jsx(ja,{contacts:a==null?void 0:a.contacts,readOnly:l})}),e.jsx(B,{value:"products",children:e.jsx(va,{productsList:n,products:a==null?void 0:a.products,readOnly:l})})]})})]})})}export{ya as C};
