import{_ as K,r as de,u as Se,a as ye,j as e,b as Te,f as ke,h as ze,i as Pe}from"./index-e06af375.js";import{C as N,o as te,s as p,z as R,u as He,t as Ne,b as Ee}from"./zod-c70e1e28.js";import{r as ge,i as be}from"./createSvgIcon-af59304e.js";import{C as Me,d as Ie}from"./ConfirmCustomerDeletion-4989ce86.js";import{f as Be,g as $e}from"./Delete-9e7a1fdf.js";import{C as U,d as _e}from"./SaveAlt-917863ad.js";import{F as q,d as Ae}from"./ArrowBack-5b5e2c49.js";import{G as H}from"./Grid-d5f187a5.js";import{C as $,a as _}from"./CardContent-9509f165.js";import{g as Re,E as se,c as We,a as Fe}from"./styled-bbf70655.js";import{g as we,T as P,P as De}from"./Typography-c441fe83.js";import{S as ce}from"./Stack-bbdf002a.js";import{T as v,F as B,I as V,b as W,a as Ge}from"./TextField-d9fc59e3.js";import{S as J}from"./Select-29c49290.js";import{M as S}from"./MenuItem-1db8f761.js";import{I as Ue}from"./InputAdornment-75db42dd.js";import{d as qe}from"./Close-0cb216d9.js";import{T as Ke}from"./Tooltip-a8c9a2ec.js";import{I as fe}from"./Menu-e27c80cb.js";import{u as Ve}from"./common-5771c6fd.js";import{a as je}from"./api-ff746449.js";import{C as Je}from"./Container-4a502da1.js";import{B as ne}from"./Box-88fb8089.js";import{T as Xe}from"./Toolbar-7d3cc063.js";import{B as Qe}from"./Page-a29a2f01.js";import{L as Ye}from"./LoadingButton-3a7488f1.js";import{T as Ze,a as Le,b as le,c as ie}from"./TabPanel-23ae88e7.js";function Oe(a){return Re("MuiCardHeader",a)}const ea=we("MuiCardHeader",["root","avatar","action","content","title","subheader"]),ue=ea,aa=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],sa=a=>{const{classes:n}=a;return Fe({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Oe,n)},ta=se("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(a,n)=>K({[`& .${ue.title}`]:n.title,[`& .${ue.subheader}`]:n.subheader},n.root)})({display:"flex",alignItems:"center",padding:16}),na=se("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(a,n)=>n.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),la=se("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(a,n)=>n.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),ia=se("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(a,n)=>n.content})({flex:"1 1 auto"}),oa=de.forwardRef(function(n,o){const s=Se({props:n,name:"MuiCardHeader"}),{action:t,avatar:j,className:d,component:f="div",disableTypography:i=!1,subheader:c,subheaderTypographyProps:y,title:g,titleTypographyProps:b}=s,u=ye(s,aa),h=K({},s,{component:f,disableTypography:i}),m=sa(h);let C=g;C!=null&&C.type!==P&&!i&&(C=e.jsx(P,K({variant:j?"body2":"h5",className:m.title,component:"span",display:"block"},b,{children:C})));let k=c;return k!=null&&k.type!==P&&!i&&(k=e.jsx(P,K({variant:j?"body2":"body1",className:m.subheader,color:"text.secondary",component:"span",display:"block"},y,{children:k}))),e.jsxs(ta,K({className:We(m.root,d),as:f,ref:o,ownerState:h},u,{children:[j&&e.jsx(na,{className:m.avatar,ownerState:h,children:j}),e.jsxs(ia,{className:m.content,ownerState:h,children:[C,k]}),t&&e.jsx(la,{className:m.action,ownerState:h,children:t})]}))}),F=oa;var me={},ra=be;Object.defineProperty(me,"__esModule",{value:!0});var ve=me.default=void 0,da=ra(ge()),oe=e,ca=(0,da.default)([(0,oe.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,oe.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,oe.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category");ve=me.default=ca;var he={},ma=be;Object.defineProperty(he,"__esModule",{value:!0});var Ce=he.default=void 0,ha=ma(ge()),xa=e,pa=(0,ha.default)((0,xa.jsx)("path",{d:"M20 0H4v2h16V0zM4 24h16v-2H4v2zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 2.75c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25S9.75 10.24 9.75 9 10.76 6.75 12 6.75zM17 17H7v-1.5c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5V17z"}),"Contacts");Ce=he.default=pa;function ja({readOnly:a,isLoading:n,control:o,errors:s,register:t}){var j,d,f,i,c,y,g,b,u,h,m,C,k,A,E,r,l,x,T,X,Q,Y,Z,L,D,O,ee,ae;return e.jsxs(H,{container:!0,spacing:3,children:[e.jsx(H,{item:!0,xs:12,md:6,lg:4,children:e.jsxs($,{variant:"outlined",children:[e.jsx(F,{title:e.jsx(P,{component:"h1",variant:"h6",children:"Información básica"}),sx:{pb:0}}),e.jsxs(_,{children:[e.jsxs(ce,{direction:"row",spacing:2,useFlexGap:!0,children:[e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"ID",disabled:a||n,error:!!((j=s.customId)!=null&&j.message),helperText:!!((d=s.customId)!=null&&d.message)&&String(s.customId.message),...t("customId")}),(a||n)&&e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Estatus",disabled:a||n,error:!!((f=s.status)!=null&&f.message),helperText:!!((i=s.status)!=null&&i.message)&&String(s.status.message),...t("status")})||e.jsxs(B,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(V,{children:"Estatus"}),e.jsx(N,{name:"status",control:o,render:({field:G})=>{var M;return e.jsxs(J,{...G,label:"Estatus",error:!!((M=s.status)!=null&&M.message),children:[e.jsx(S,{value:"",children:e.jsx("em",{children:"Ninguno"})}),e.jsx(S,{value:"Activo",children:"Activo"}),e.jsx(S,{value:"Prospecto",children:"Prospecto"}),e.jsx(S,{value:"Pruebas",children:"Pruebas"}),e.jsx(S,{value:"Suspendido",children:"Suspendido"})]})}}),e.jsx(W,{error:!0,children:!!((c=s.status)!=null&&c.message)&&String(s.status.message)})]})]}),e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Nombre",disabled:a||n,error:!!((y=s.name)!=null&&y.message),helperText:!!((g=s.name)!=null&&g.message)&&String(s.name.message),...t("name")}),e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Correo electrónico",type:"email",disabled:a||n,error:!!((b=s.email)!=null&&b.message),helperText:!!((u=s.email)!=null&&u.message)&&String(s.email.message),...t("email")}),e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"País",disabled:a||n,error:!!((h=s.country)!=null&&h.message),helperText:!!((m=s.country)!=null&&m.message)&&String(s.country.message),...t("country")})]})]})}),e.jsx(H,{item:!0,xs:12,md:6,lg:4,children:e.jsxs($,{variant:"outlined",children:[e.jsx(F,{title:e.jsx(P,{component:"h1",variant:"h6",children:"Información fiscal"}),sx:{pb:0}}),e.jsxs(_,{children:[(a||n)&&e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Giro",disabled:a||n,error:!!((C=s.economicActivity)!=null&&C.message),helperText:!!((k=s.economicActivity)!=null&&k.message)&&String(s.economicActivity.message),...t("economicActivity")})||e.jsxs(B,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(V,{children:"Giro"}),e.jsx(N,{name:"economicActivity",control:o,render:({field:G})=>{var M;return e.jsxs(J,{...G,label:"Giro",error:!!((M=s.economicActivity)!=null&&M.message),children:[e.jsx(S,{value:"",children:e.jsx("em",{children:"Ninguno"})}),e.jsx(S,{value:"Distribuidor",children:"Distribuidor"}),e.jsx(S,{value:"Fintech",children:"Fintech"}),e.jsx(S,{value:"Operador / Distribuidor",children:"Operador / Distribuidor"})]})}}),e.jsx(W,{error:!0,children:!!((A=s.economicActivity)!=null&&A.message)&&String(s.economicActivity.message)})]}),e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Razón social",disabled:a||n,error:!!((E=s.registeredName)!=null&&E.message),helperText:!!((r=s.registeredName)!=null&&r.message)&&String(s.registeredName.message),...t("registeredName")}),e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"RFC",disabled:a||n,error:!!((l=s.rfc)!=null&&l.message),helperText:!!((x=s.rfc)!=null&&x.message)&&String(s.rfc.message),...t("rfc")}),e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Domicilio fiscal",disabled:a||n,error:!!((T=s.address)!=null&&T.message),helperText:!!((X=s.address)!=null&&X.message)&&String(s.address.message),...t("address")})]})]})}),e.jsx(H,{item:!0,xs:12,md:6,lg:4,children:e.jsxs($,{variant:"outlined",children:[e.jsx(F,{title:e.jsx(P,{component:"h1",variant:"h6",children:"Información de venta"}),sx:{pb:0}}),e.jsxs(_,{children:[e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Nombre del vendedor",disabled:a||n,error:!!((Q=s.sellerName)!=null&&Q.message),helperText:!!((Y=s.sellerName)!=null&&Y.message)&&String(s.sellerName.message),...t("sellerName")}),e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Vigencia de comisión",type:"date",InputLabelProps:{shrink:!0},disabled:a||n,error:!!((Z=s.comissionTerm)!=null&&Z.message),helperText:!!((L=s.comissionTerm)!=null&&L.message)&&String(s.comissionTerm.message),...t("comissionTerm")}),e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Porcentaje de comisión",type:"number",InputProps:{inputProps:{disabled:a||n,step:1,min:0},endAdornment:e.jsx(Ue,{position:"end",children:"%"})},disabled:a||n,error:!!((D=s.percentageComissions)!=null&&D.message),helperText:!!((O=s.percentageComissions)!=null&&O.message)&&String(s.percentageComissions.message),...t("percentageComissions")}),e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Comentarios del vendedor",disabled:a||n,error:!!((ee=s.sellerComments)!=null&&ee.message),helperText:!!((ae=s.sellerComments)!=null&&ae.message)&&String(s.sellerComments.message),...t("sellerComments")})]})]})})]})}function ua({readOnly:a,isLoading:n,control:o,fields:s,errors:t,deleteContactByIndex:j,addContact:d}){const f=i=>{j(i)};return e.jsxs(H,{container:!0,spacing:3,children:[s==null?void 0:s.map((i,c)=>{var y,g;return e.jsx(H,{item:!0,xs:12,md:4,children:e.jsxs($,{variant:"outlined",sx:{height:"300px"},children:[e.jsx(F,{title:e.jsx(P,{component:"h1",variant:"h6",children:"Información de contacto"}),action:a||e.jsx(Ke,{title:"Eliminar",arrow:!0,children:e.jsx(fe,{size:"small",onClick:()=>f(c),children:e.jsx(qe,{})})}),sx:{pb:0}}),e.jsxs(_,{children:[a&&e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Tipo",defaultValue:(i==null?void 0:i.type)==="com"?"Comercial":"Tecnología",disabled:a})||e.jsxs(B,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(V,{children:"Tipo"}),e.jsx(N,{name:`contacts.${c}.type`,control:o,render:({field:b})=>{var u;return e.jsxs(J,{...b,label:"Tipo",error:!!(t!=null&&t.contacts&&((u=t.contacts[c])!=null&&u.type)),children:[e.jsx(S,{value:"com",children:"Comercial"}),e.jsx(S,{value:"tec",children:"Tecnología"})]})}}),e.jsx(W,{error:!0,children:(t==null?void 0:t.contacts)&&((g=(y=t.contacts[c])==null?void 0:y.type)==null?void 0:g.message)})]}),e.jsx(N,{name:`contacts.${c}.name`,control:o,render:({field:b})=>{var u,h,m;return e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Nombre",disabled:a||n,error:!!(t!=null&&t.contacts&&((u=t.contacts[c])!=null&&u.name)),helperText:(t==null?void 0:t.contacts)&&((m=(h=t.contacts[c])==null?void 0:h.name)==null?void 0:m.message),...b})}},i==null?void 0:i.id),e.jsx(N,{name:`contacts.${c}.email`,control:o,render:({field:b})=>{var u,h,m;return e.jsx(v,{margin:"normal",fullWidth:!0,size:"small",label:"Correo electrónico",disabled:a||n,error:!!(t!=null&&t.contacts&&((u=t.contacts[c])!=null&&u.email)),helperText:(t==null?void 0:t.contacts)&&((m=(h=t.contacts[c])==null?void 0:h.email)==null?void 0:m.message),...b})}},i==null?void 0:i.id)]})]})})}),a||e.jsx(H,{item:!0,xs:12,md:4,children:e.jsx($,{variant:"outlined",sx:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",":hover":{backgroundColor:i=>Te(i.palette.common.black,.02)}},onClick:d,children:e.jsx(_,{children:e.jsxs(ce,{spacing:1,sx:{display:"flex",alignItems:"center"},children:[e.jsx(Be,{}),e.jsx(P,{variant:"caption",children:"Agregar contacto"})]})})})})]})}const re=[{name:"Android",value:"android"},{name:"iOS",value:"ios"},{name:"Windows",value:"windows"}],ga=[{name:"HBM3M"},{name:"HBM3A"},{name:"HBM1A"}],ba=[{name:"HBM3M"},{name:"HBM3A"},{name:"HBM1A"}];function fa({productsList:a,products:n,readOnly:o,isLoading:s,control:t,register:j,errors:d,getValues:f,setValue:i}){var g,b,u,h,m,C,k,A,E;const c=r=>{const{devices:l}=f(),x=l!=null&&l.find(T=>T===r.value)?l==null?void 0:l.filter(T=>T!==r.value):[...l??[],r.value];i("devices",x)},y=r=>{const{products:l}=f(),x=l!=null&&l.find(T=>T.shortName===r.shortName)?l==null?void 0:l.filter(T=>T.shortName!==r.shortName):[...l??[],{shortName:r.shortName}];i("products",x)};return e.jsxs(H,{container:!0,spacing:3,children:[e.jsx(H,{item:!0,xs:12,md:6,lg:4,children:e.jsxs($,{variant:"outlined",children:[e.jsx(F,{title:e.jsx(P,{component:"h1",variant:"h6",children:"Productos generales"}),sx:{pb:0}}),e.jsx(_,{children:e.jsxs(B,{variant:"standard",error:!!((g=d.products)!=null&&g.message),children:[e.jsx(N,{name:"products",render:()=>{var r;return(r=a==null?void 0:a.data)==null?void 0:r.map(l=>e.jsx(q,{control:e.jsx(U,{size:"small",color:"secondary",disabled:o||s,onChange:()=>y(l),defaultChecked:!!(n!=null&&n.find(x=>x.shortName===l.shortName))}),label:l.name},l.id))},control:t}),e.jsx(W,{children:!!((b=d.products)!=null&&b.message)&&String(d.products.message)})]})})]})}),e.jsx(H,{item:!0,xs:12,md:6,lg:4,children:e.jsxs($,{variant:"outlined",sx:{height:"100%"},children:[e.jsx(F,{title:e.jsx(P,{component:"h1",variant:"h6",children:"Dispositivos"}),sx:{pb:0}}),e.jsx(_,{children:e.jsxs(B,{variant:"standard",error:!!((u=d.devices)!=null&&u.message),children:[e.jsx(N,{name:"devices",render:()=>re==null?void 0:re.map(r=>{var l,x;return e.jsx(q,{control:e.jsx(U,{size:"small",color:"secondary",disabled:o||s,onChange:()=>c(r),defaultChecked:!!((x=(l=f())==null?void 0:l.devices)!=null&&x.find(T=>T===r.value))}),label:r.name},r.name)}),control:t}),e.jsx(W,{children:!!((h=d.devices)!=null&&h.message)&&String(d.devices.message)})]})})]})}),e.jsx(H,{item:!0,xs:12,md:6,lg:4,children:e.jsxs($,{variant:"outlined",sx:{height:"100%"},children:[e.jsx(F,{title:e.jsx(P,{component:"h1",variant:"h6",children:"SKUs"}),sx:{pb:0}}),e.jsxs(_,{children:[e.jsxs(ce,{direction:"row",spacing:2,useFlexGap:!0,children:[e.jsxs(B,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(V,{children:"SKU Start"}),e.jsx(N,{name:"skuStart",control:t,render:({field:r})=>{var l;return e.jsxs(J,{...r,label:"SKU Start",disabled:o||s,error:!!((l=d.skuStart)!=null&&l.message),children:[e.jsx(S,{value:"",children:e.jsx("em",{children:"Ninguno"})}),ga.map(({name:x})=>e.jsx(S,{value:x,children:x}))]})}}),e.jsx(W,{error:!0,children:!!((m=d.skuStart)!=null&&m.message)&&String(d.skuStart.message)})]}),e.jsxs(B,{margin:"normal",fullWidth:!0,size:"small",children:[e.jsx(V,{children:"SKU End"}),e.jsx(N,{name:"skuEnd",control:t,render:({field:r})=>{var l;return e.jsxs(J,{...r,label:"SKU End",disabled:o||s,error:!!((l=d.skuEnd)!=null&&l.message),children:[e.jsx(S,{value:"",children:e.jsx("em",{children:"Ninguno"})}),ba.map(({name:x})=>e.jsx(S,{value:x,children:x}))]})}}),e.jsx(W,{error:!0,children:!!((C=d.skuEnd)!=null&&C.message)&&String(d.skuEnd.message)})]})]}),e.jsxs(B,{variant:"standard",sx:{mt:1},children:[e.jsx(Ge,{children:"Otros"}),e.jsx(q,{control:e.jsx(U,{size:"small",color:"secondary",disabled:o||s,defaultChecked:(k=f())==null?void 0:k.sku3m,...j("sku3m")}),label:"Contar 3 meses"}),e.jsx(q,{control:e.jsx(U,{size:"small",color:"secondary",disabled:o||s,defaultChecked:(A=f())==null?void 0:A.skuHBMF,...j("skuHBMF")}),label:"HBMF"}),e.jsx(q,{control:e.jsx(U,{size:"small",color:"secondary",disabled:o||s,defaultChecked:(E=f())==null?void 0:E.skuHBMPRE,...j("skuHBMPRE")}),label:"HBMPRE"})]})]})]})})]})}const va=/^\d{4}-[01]\d-[0-3]\d$|^$/,Ca=te({customId:p(),name:p(),email:p(),country:p(),registeredName:p(),rfc:p(),address:p(),economicActivity:p(),status:p(),sellerName:p(),sellerComments:p(),comissionTerm:p().regex(va,"La fecha debe estar en formato yyyy-MM-dd"),percentageComissions:R.coerce.number().gte(0,"El porcentaje de comisión debe ser mayor o igual a 0").lte(100,"El porcentaje de comisión debe ser menor o igual a 100"),products:R.array(te({shortName:p()})),contacts:R.array(te({type:p(),name:p().optional(),email:p().optional()})),devices:R.array(p()),skuStart:p(),skuEnd:p(),sku3m:R.boolean(),skuHBMF:R.boolean(),skuHBMPRE:R.boolean()});function Qa({customer:a,productsList:n=null,readOnly:o=!1,newCustomer:s=!1,isLoading:t=!1}){var M,xe;const j=ke(),d=ze(),[f,i]=Pe(),[c,y]=de.useState(!1),g=Ve(z=>z.showSnackbar),[b,u]=de.useState(f.get("tab")||"general"),h=(z,I)=>{u(I),i({tab:I})},{control:m,formState:{errors:C},getValues:k,handleSubmit:A,register:E,setValue:r}=He({defaultValues:{customId:(a==null?void 0:a.customId)||"",name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",country:(a==null?void 0:a.country)||"",economicActivity:(a==null?void 0:a.economicActivity)||"",status:(a==null?void 0:a.status)||"",rfc:(a==null?void 0:a.rfc)||"",registeredName:(a==null?void 0:a.registeredName)||"",address:(a==null?void 0:a.address)||"",sellerName:(a==null?void 0:a.sellerName)||"",comissionTerm:((M=a==null?void 0:a.comissionTerm)==null?void 0:M.length)>=10?(xe=a==null?void 0:a.comissionTerm)==null?void 0:xe.slice(0,10):"",percentageComissions:(a==null?void 0:a.percentageComissions)||0,sellerComments:(a==null?void 0:a.sellerComments)||"",products:(a==null?void 0:a.products)||[],contacts:(a==null?void 0:a.contacts)||[{type:"com"},{type:"tec"}],devices:(a==null?void 0:a.devices)||[],skuStart:(a==null?void 0:a.skuStart)||"",skuEnd:(a==null?void 0:a.skuEnd)||"",sku3m:(a==null?void 0:a.sku3m)||!1,skuHBMF:(a==null?void 0:a.skuHBMF)||!1,skuHBMPRE:(a==null?void 0:a.skuHBMPRE)||!1},resolver:Ne(Ca)}),{append:l,fields:x,remove:T}=Ee({name:"contacts",control:m}),X=()=>{D()},Q=()=>{ee()},Y=z=>{s?L(z):Z(a.id,z)},Z=(z,I)=>{y(!0);const w=new URL(`${je}/customers/${z}`);fetch(w,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}).then(pe=>{if(!pe.ok){g("Error al intentar acualizar el cliente","error");return}O(),g("El cliente se actualizó correctamente","success")}).catch(pe=>g("Error al intentar acualizar el cliente","error")).finally(()=>y(!1))},L=z=>{y(!0);const I=new URL(`${je}/customers`);fetch(I,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)}).then(w=>{if(!w.ok){g("Error al intentar crear el cliente","error");return}D(),g("El cliente se creó correctamente","success")}).catch(w=>g("Error al intentar crear el cliente","error")).finally(()=>y(!1))},D=()=>{if(d.state){const{perPage:z,page:I,q:w}=d.state;j({pathname:"/admin/customers",search:`?perPage=${z}&page=${I}&q=${w}`})}else j("/admin/customers")},O=()=>{j({pathname:`/admin/customers/${a==null?void 0:a.id}`,search:`?tab=${b}`},{state:d.state})},ee=()=>{j({pathname:`/admin/customers/${a==null?void 0:a.id}/edit`,search:`?tab=${b}`})},ae=z=>{T(z)},G=()=>{console.log("addContact"),l({type:"com",name:"",email:""})};return e.jsx(Je,{sx:{mt:4,mb:4},children:e.jsxs(ne,{component:"form",onSubmit:A(Y),noValidate:!0,children:[e.jsxs(Xe,{disableGutters:!0,children:[e.jsx(fe,{size:"large",color:"inherit",sx:{mr:2},onClick:X,children:e.jsx(Ae,{})}),e.jsx(P,{component:"h2",variant:"h5",noWrap:!0,sx:a!=null&&a.name?{flexGrow:1}:{flexGrow:1,fontStyle:"italic"},children:s?"Cliente sin nombre":a==null?void 0:a.name}),e.jsxs(ne,{sx:{display:"flex",gap:2},children:[e.jsx(Qe,{size:"small",color:"info",startIcon:e.jsx($e,{}),onClick:Q,disabled:!o,children:"Editar"}),e.jsx(Me,{id:a==null?void 0:a.id,name:a==null?void 0:a.name,onFinished:()=>{},disabled:!o}),e.jsx(Ye,{variant:"contained",size:"small",loadingPosition:"start",disableElevation:!0,startIcon:e.jsx(_e,{}),type:"submit",disabled:o||c,loading:c,children:"Guardar"})]})]}),e.jsx(De,{variant:"outlined",children:e.jsxs(Ze,{value:b,children:[e.jsx(ne,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Le,{onChange:h,indicatorColor:"secondary",children:[e.jsx(le,{icon:e.jsx(Ie,{}),iconPosition:"start",label:"Información general",value:"general"}),e.jsx(le,{icon:e.jsx(Ce,{}),iconPosition:"start",label:"Contactos",value:"contacts"}),e.jsx(le,{icon:e.jsx(ve,{}),iconPosition:"start",label:"Productos",value:"products"})]})}),e.jsx(ie,{value:"general",children:e.jsx(ja,{readOnly:o,isLoading:t||c,control:m,register:E,errors:C})}),e.jsx(ie,{value:"contacts",children:e.jsx(ua,{readOnly:o,isLoading:t||c,control:m,fields:x,errors:C,deleteContactByIndex:ae,addContact:G})}),e.jsx(ie,{value:"products",children:e.jsx(fa,{productsList:n,products:a==null?void 0:a.products,readOnly:o,isLoading:t||c,control:m,register:E,errors:C,getValues:k,setValue:r})})]})})]})})}export{Qa as C};
