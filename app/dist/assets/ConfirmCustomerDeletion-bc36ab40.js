import{r as n,j as r}from"./index-34ad4850.js";import{d as C,D,a as E,b,c as k,e as y}from"./Delete-bf15f795.js";import{u as L}from"./common-06c0ba0d.js";import{L as B,a as S}from"./api-27aaaf1f.js";import{B as l}from"./Page-71ea8f73.js";import{A as T}from"./Alert-e5863f7c.js";import{B as v}from"./Box-75332173.js";import{T as c}from"./Typography-9c675a68.js";function R({id:d,name:m,onFinished:p}){const[u,a]=n.useState(!1),[h,o]=n.useState(!1),s=L(e=>e.showSnackbar),f=e=>{e.stopPropagation(),e.preventDefault(),a(!0)},i=e=>{e.stopPropagation(),e.preventDefault(),a(!1)},x=e=>{e.stopPropagation(),e.preventDefault(),g({id:d})},g=({id:e})=>{o(!0);const j=new URL(`${S}/customers/${e}`);fetch(j,{method:"DELETE"}).then(t=>t.json()).then(t=>{s("El cliente se eliminó corretamente","success"),p()}).catch(t=>s("Error al intentar eliminar el cliente","error")).finally(()=>{a(!1),o(!1)})};return r.jsxs(r.Fragment,{children:[r.jsx(l,{size:"small",color:"error",startIcon:r.jsx(C,{}),onClick:e=>f(e),children:"Eliminar"}),r.jsxs(D,{fullWidth:!0,maxWidth:"sm",open:u,onClose:e=>i(e),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[r.jsx(E,{id:"alert-dialog-title",children:"Eliminar cliente"}),r.jsxs(b,{children:[r.jsxs(k,{id:"alert-dialog-description",children:[r.jsx(T,{severity:"warning",color:"error",children:"Depués de eliminar un cliente, este se borra de manera permanente. Esta acción no se puede deshacer."}),r.jsxs(v,{m:2,children:[r.jsx(c,{variant:"caption",children:"Nombre del cliente"}),r.jsx(c,{mt:1,color:"black",children:m})]})]}),r.jsxs(y,{children:[r.jsx(l,{size:"small",onClick:i,children:"Cancelar"}),r.jsx(B,{loading:h,variant:"contained",color:"error",size:"small",disableElevation:!0,autoFocus:!0,onClick:x,children:"Eliminar"})]})]})]})]})}export{R as C};
