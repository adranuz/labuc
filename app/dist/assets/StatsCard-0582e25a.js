import{r as h,j as e,T as f,s as g,w as v,L as S}from"./index-64ee5db4.js";import{A as y,C as L}from"./constants-2e6fc461.js";import{F as b,I as w}from"./FormControl-24d1bd67.js";import{S as B}from"./Select-eabe2e08.js";import{M as E}from"./MenuItem-99edd351.js";import{C as F,d as I}from"./ArrowForward-efd550d8.js";import{C as P,a as R}from"./CardContent-e1ee60bb.js";import{C as z}from"./CardHeader-ede4a4ea.js";import{D as A}from"./Divider-b1bfc0d9.js";function $({onChange:i,defaultCustomerId:n,hasProducts:c}){const[l,a]=h.useState(!1),[r,p]=h.useState([]),j=t=>{const o=t.target.value,s=r==null?void 0:r.find(x=>x.id===o),{id:m,name:d}=s;i({id:m,name:d})};h.useEffect(()=>{u()},[]);const u=()=>{a(!0);const t=new URL(`${y}/customers`),o=[["pagination","false"],["fields[]","id"],["fields[]","name"]];c.forEach(s=>{o.push(["hasProducts[]",s])}),t.search=new URLSearchParams(o).toString(),fetch(t).then(async s=>await s.json()).then(s=>{if(p(s==null?void 0:s.data),n){console.log({defaultCustomerId:n});const m=s==null?void 0:s.data.find(C=>C.id===n),{id:d,name:x}=m;i({id:d,name:x})}}).finally(()=>{a(!1)})};return e.jsxs(b,{margin:"none",size:"small",sx:{minWidth:220,maxWidth:220},disabled:l,children:[e.jsx(w,{children:"Cliente"}),e.jsx(B,{label:"Cliente",onChange:j,defaultValue:n??void 0,children:r==null?void 0:r.map(({id:t,name:o})=>e.jsx(E,{value:t,children:o},t))})]})}function q({title:i,subtitle:n="",value:c,isLoading:l,href:a}){return e.jsxs(P,{variant:"outlined",children:[e.jsx(z,{title:e.jsx(f,{variant:"subtitle1",sx:{fontWeight:"bold"},children:i}),sx:{paddingBottom:0}}),e.jsx(R,{children:e.jsx(g,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:l?e.jsx(L,{size:62}):e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"h4",component:"p",color:"primary",children:c}),!!n&&e.jsx(f,{variant:"caption",children:n})]})})}),a!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx(F,{children:e.jsx(v,{size:"small",endIcon:e.jsx(I,{}),component:S,to:a,disabled:l,children:"Ver detalles"})})]})]})}export{$ as S,q as a};
