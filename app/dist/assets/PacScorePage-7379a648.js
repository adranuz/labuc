import{x as C,r as o,j as t}from"./index-d910b063.js";import{T as g}from"./Toolbar-79d34470.js";import{S as j,a as v}from"./StatsCard-94764ff7.js";import{A as I}from"./constants-53c7a41b.js";import{l as b,d as A}from"./utils-ae6c9da2.js";import{C as T}from"./Container-07cda008.js";import{P as L}from"./Paper-37965af9.js";import{G as p}from"./Grid-1fa796df.js";import{P as w}from"./Page-3b479898.js";import"./ArrowBack-1462d81c.js";import"./createSvgIcon-08e146b5.js";import"./Toolbar-bb7e79c6.js";import"./Backdrop-6925e10d.js";import"./FormControl-070dad34.js";import"./Select-4dcb9f12.js";import"./Menu-f153eb6a.js";import"./MenuItem-3d2809ad.js";import"./dividerClasses-c9f1e17e.js";import"./ArrowForward-877a8700.js";import"./CardContent-441a39f3.js";import"./CardHeader-1c812e31.js";import"./Divider-b4213ec4.js";function y(){const[i,u]=C(),[l,n]=o.useState(!1),[r,d]=o.useState(void 0),[f,S]=o.useState([]),[a,h]=o.useState(void 0),x=s=>{d(s),i.set("customerId",s.id),u(i)};o.useEffect(()=>{r!==void 0&&P(r.id)},[r]);const P=s=>{n(!0);const c=new URL(`${I}/pac/customers/${s}/stats`);fetch(c).then(async e=>await e.json()).then(e=>{const m=[{name:"General",value:(e==null?void 0:e.successScore)+(e==null?void 0:e.errorScore),status:void 0},{name:"Aceptado",value:(e==null?void 0:e.successScore)??0,status:"accepted"},{name:"No aceptado",value:(e==null?void 0:e.errorScore)??0,status:"notAccepted"}];S(m),h(e==null?void 0:e.createdAt)}).finally(()=>n(!1))};return t.jsx(T,{sx:{mt:4,mb:4},children:t.jsxs(L,{variant:"outlined",sx:{width:"100%",mb:2,pt:1},children:[t.jsx(g,{title:"Score de crédito PAC",children:t.jsx(j,{onChange:x,defaultCustomerId:i.get("customerId"),hasProducts:["credolab","lms"]})}),t.jsx(p,{container:!0,spacing:3,marginTop:1,padding:3,children:f.map(({name:s,value:c,status:e},m)=>t.jsx(p,{item:!0,xs:12,md:3,children:t.jsx(v,{title:s,subtitle:a&&"Total al "+b({date:a,withTime:!1}),value:c,isLoading:l,href:`/tool/pac/score/report?${A({customerId:r==null?void 0:r.id,status:e})}`,goToLabel:"Ver"})},m))})]})})}function Y(){return t.jsx(w,{title:"Score de crédito PAC",children:t.jsx(y,{})})}export{Y as default};
