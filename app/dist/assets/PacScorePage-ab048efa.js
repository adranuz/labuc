import{x as C,r as o,j as t}from"./index-32292c13.js";import{T as g}from"./Toolbar-d70cb619.js";import{S as j,a as v}from"./StatsCard-12cfc94c.js";import{A as I}from"./constants-a5768e35.js";import{l as b,d as A}from"./utils-ae6c9da2.js";import{C as T}from"./Container-430f5354.js";import{P as L}from"./Paper-d19b285b.js";import{G as p}from"./Grid-003d548d.js";import{P as w}from"./Page-163afb69.js";import"./ArrowBack-77e9619e.js";import"./createSvgIcon-abbd2357.js";import"./Toolbar-c06937fa.js";import"./Backdrop-752351c6.js";import"./FormControl-1302c8b4.js";import"./Select-1f7de27f.js";import"./Menu-3217b6b0.js";import"./MenuItem-416c8a5f.js";import"./dividerClasses-39a22909.js";import"./ArrowForward-5694569f.js";import"./CardContent-9b693bcc.js";import"./CardHeader-b4119aa6.js";import"./Divider-036b3b5e.js";function y(){const[i,u]=C(),[l,n]=o.useState(!1),[r,d]=o.useState(void 0),[f,S]=o.useState([]),[a,h]=o.useState(void 0),x=s=>{d(s),i.set("customerId",s.id),u(i)};o.useEffect(()=>{r!==void 0&&P(r.id)},[r]);const P=s=>{n(!0);const c=new URL(`${I}/pac/customers/${s}/stats`);fetch(c).then(async e=>await e.json()).then(e=>{const m=[{name:"General",value:(e==null?void 0:e.successScore)+(e==null?void 0:e.errorScore),status:void 0},{name:"Aceptado",value:(e==null?void 0:e.successScore)??0,status:"accepted"},{name:"No aceptado",value:(e==null?void 0:e.errorScore)??0,status:"notAccepted"}];S(m),h(e==null?void 0:e.createdAt)}).finally(()=>n(!1))};return t.jsx(T,{sx:{mt:4,mb:4},children:t.jsxs(L,{variant:"outlined",sx:{width:"100%",mb:2,pt:1},children:[t.jsx(g,{title:"Score de crédito PAC",children:t.jsx(j,{onChange:x,defaultCustomerId:i.get("customerId"),hasProducts:["credolab","lms"]})}),t.jsx(p,{container:!0,spacing:3,marginTop:1,padding:3,children:f.map(({name:s,value:c,status:e},m)=>t.jsx(p,{item:!0,xs:12,md:3,children:t.jsx(v,{title:s,subtitle:a&&"Total al "+b({date:a,withTime:!1}),value:c,isLoading:l,href:`/tool/pac/score/report?${A({customerId:r==null?void 0:r.id,status:e})}`,goToLabel:"Ver"})},m))})]})})}function Y(){return t.jsx(w,{title:"Score de crédito PAC",children:t.jsx(y,{})})}export{Y as default};
